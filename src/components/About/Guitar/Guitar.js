import React, { Component } from 'react';
import style from './index.module.scss';
import {TimelineMax, Linear} from 'gsap/all'; 

export default class Guitar extends Component {

    //__Refs 
    guitarSvg = React.createRef();
    guitar = React.createRef();
    guitarShadow = React.createRef();

    //__GSAP
    tlGuitar = new TimelineMax({paused: true});
    tlGuitarShadow = new TimelineMax({repeat: -1, yoyo: true});

    componentDidMount(){
        this.tlGuitar.delay(1);
        this.tlGuitar
            .from(this.guitarSvg.current, 0.5, {opacity: 0});
        this.tlGuitarShadow
            .to(this.guitar.current, 3, {
                y: "-3%",
                x: '-3%',
                ease: Linear.easeNone
            })
            .to(this.guitarShadow.current, 3, {
                attr: {stdDeviation: 30},
                ease: Linear.easeNone
            }, '-=3')
    }

    // componentDidMount(){
    //     this.tlBook.delay(1);
    //     this.tlBook
    //         .from(this.bookSvg.current, 2, {autoAlpha: 0})
    //     this.tlBookShadow
    //         .to(this.book.current, 3, {y: "-10%", ease: Linear.easeNone})
    //         .to(this.bookShadow.current, 3, { attr: {stdDeviation: 40, ease: Linear.easeNone}}, '-=3')
    // } 

    render() {
        if(this.props.show){
            this.tlGuitar.play();
        }

        return (
            <div className={style.wrapper}>
                <svg ref={this.guitarSvg} xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 1100 1200">
                    <defs>
                        <filter id="guitarFilter" x="-20%" y="-30%" width="180%" height="180%">  
                            <feGaussianBlur ref={this.guitarShadow} stdDeviation='10'/>
                        </filter>
                    </defs>
                    <g id="Guitar" transform="translate(-137.563 294.937)">
                        <path filter='url(#guitarFilter)'  id="shadow" d="M109.263,345.636a107.572,107.572,0,0,1-38.526-6.878C-2.726,310.9.013,172.95.013,172.95S2.834,43.722,82.485,11.767c97.057-41.228,141.927,38.083,214.652,51.367,33.062,6.039,60.183-.616,83.992-7.272,19.191-5.365,36.232-10.73,52.5-9.446,36.45,2.876,56.392,15.346,41.361,29-8.009,7.274-39.633.633-52.088,9.461-23.481,16.643-34.525,55.367-34.525,55.367q-.238,4.063-.461,7.866c119.424,1.4,488.7,5.641,503.576,4.523,17.75-1.334,26.2-25.77,26.2-25.77s19.877,12.385,51.519,17.368,77.087,3.442,77.087,3.442-12.918,14.162-16.414,28.049,2.432,27.5,2.432,27.5-38.013-.3-65.437,5.166a188.361,188.361,0,0,0-46.95,15.87s-7.106-21.943-24.608-24.043c-14.8-1.774-393.62,3.858-510.355,5.641a264.049,264.049,0,0,0,1.333,39.054c1.624,15.554,41.666,31.656,43.421,43.292,1.119,7.386-15.008,16.995-32.892,15.8-19.214-1.289-49.753-32.662-102.965-19.611-59.4,14.569-122.87,61.249-184.591,61.254Z" transform="matrix(0.695, -0.719, 0.719, 0.695, 307.242, 627.389)" fill="#3B3B3B" opacity='0.8'/>
                        <g ref={this.guitar}>
                        <g id="Group_20" data-name="Group 20" transform="translate(227.858 514.621) rotate(-50)">
                        <path id="Path_2" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#5f0afd"/>
                        <path id="Path_1" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#5f0afd"/>
                        <path id="Path_10" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#5f0afd"/>
                        </g>
                        <g id="Group_18" data-name="Group 18" transform="translate(225.787 514.714) rotate(-50)">
                        <path id="Path_2-2" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#141414"/>
                        <path id="Path_1-2" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#141414"/>
                        <path id="Path_10-2" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#141414"/>
                        </g>
                        <g id="Group_17" data-name="Group 17" transform="translate(218.35 515.462) rotate(-50)">
                        <path id="Path_2-3" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#e6e6e6"/>
                        <path id="Path_1-3" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#e6e6e6"/>
                        <path id="Path_10-3" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#e6e6e6"/>
                        </g>
                        <g id="Group_16" data-name="Group 16" transform="translate(215.667 515.789) rotate(-50)">
                        <path id="Path_2-4" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#c7c7c7"/>
                        <path id="Path_1-4" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#c7c7c7"/>
                        <path id="Path_10-4" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#c7c7c7"/>
                        </g>
                        <g id="Group_19" data-name="Group 19" transform="translate(208.466 517.15) rotate(-50)">
                        <path id="Path_2-5" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#0a0000"/>
                        <path id="Path_1-5" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#0a0000"/>
                        <path id="Path_10-5" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#0a0000"/>
                        </g>
                        <g id="Group_15" data-name="Group 15" transform="translate(207.007 517.008) rotate(-50)">
                        <path id="Path_2-6" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#e5e5e5"/>
                        <path id="Path_1-6" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#e5e5e5"/>
                        <path id="Path_10-6" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#e5e5e5"/>
                        </g>
                        <g id="Group_14" data-name="Group 14" transform="translate(197.357 519.307) rotate(-50)">
                        <path id="Path_2-7" data-name="Path 2" d="M0,81.291s538.536-8.447,556.43-6.3,25.158,24.579,25.158,24.579a192.55,192.55,0,0,1,48-16.225c28.037-5.592,66.9-5.282,66.9-5.282S690.424,64.147,694,49.95s16.78-28.675,16.78-28.675-46.46,1.576-78.807-3.518S579.3,0,579.3,0s-8.641,24.981-26.788,26.345S0,21.275,0,21.275Z" transform="translate(358.877 129.689)" fill="#ededed"/>
                        <path id="Path_1-7" data-name="Path 1" d="M397.046,143.369s11.29-39.589,35.3-56.6c12.732-9.024,45.062-2.234,53.25-9.671,15.366-13.955-5.022-26.7-42.285-29.643S364.813,75.693,303.768,64.543C229.422,50.962,183.55-30.118,84.326,12.029,2.9,44.7.013,176.81.013,176.81s-2.8,141.029,72.3,169.508,154.651-37.572,228.109-55.589c54.4-13.343,85.619,18.732,105.262,20.049,18.284,1.226,34.77-8.6,33.627-16.148-1.795-11.9-42.731-28.358-44.39-44.259C392.27,224.93,393.075,211.088,397.046,143.369Z" transform="translate(0 0)" fill="#ededed"/>
                        <path id="Path_10-7" data-name="Path 10" d="M.049,0H5.84L5.815,58.148,0,58.257Z" transform="translate(391.509 151.808)" fill="#ededed"/>
                        </g>
                        <g id="Group_22" data-name="Group 22" transform="translate(-171.097 490.113) rotate(-50)">
                        <text id="I_like_music" data-name="I like music" transform="translate(337 496)" fill="#171717" fontSize="62" fontFamily="PoiretOne-Regular, Poiret One"><tspan x="0" y="0">I like music</tspan></text>
                        <path id="Path_75" data-name="Path 75" d="M323.917,448.469v68.412" transform="translate(-11.917 -20.969)" fill="none" stroke="#4e00ff" strokeWidth="2"/>
                        <path id="Path_76" data-name="Path 76" d="M323.917,448.469v29.146" transform="translate(-17.917 18.031)" fill="none" stroke="#4e00ff" strokeWidth="2"/>
                        </g>
                        </g>
                    </g>
                </svg>
            </div>
        )
    }
}